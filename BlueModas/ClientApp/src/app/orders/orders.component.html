<h1 id="tableLabel">Últimos Pedidos</h1>

<p>Veja aqui os ultimos pedidos realizados.</p>

<p *ngIf="!orders"><em>Loading...</em></p>

<div style="border:1px solid black; width:100%;" *ngFor="let order of orders">
    <h2>Pedido nº {{order.orderId}}</h2>
    <p>Data: {{order.dateTimeOrder| date: 'full'}}</p>
    <h3>Itens do Pedido</h3>
    <table class='table table-striped' aria-labelledby="tableLabel" *ngIf="order.orderItems">
        <thead>
            <tr>
                <th>Codigo do Produto</th>
                <th>Descrição</th>
                <th>Imagem</th>
                <th>Preço</th>
                <th>Quantidade</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of order.orderItems">
                <td>{{ item.product.productId }}</td>
                <td>{{ item.product.description }}</td>
                <td><img src="{{ item.product.image }}" style="width:40px;" /></td>
                <td>{{ item.product.price| currency : 'R$' }}</td>
                <td>{{ item.quantity }}</td>
                <td>{{ item.product.price*item.quantity| currency : 'R$' }}</td>
            </tr>
        </tbody>
    </table>
    <p>Valor Total: {{order.total| currency : 'R$'}}</p>
    <h3>Dados de Entrega</h3>
    <p>Nome: {{order.customerData.name}}</p>
    <p>E-mail: {{ order.customerData.email}}</p>
    <p>Telefone: {{order.customerData.phone}}</p>
</div>
